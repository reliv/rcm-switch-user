{"version":3,"sources":["switch-user.js"],"names":["rcm","addAngularModule","angular","module","RcmSwitchUserConfig","self","this","config","defaults","showSwitchToUserNameField","switchToUserName","switchToUserNameButtonLabel","switchBackButtonLabel","switchUserInfoContentPrefix","switchToUserNamePlaceholder","get","key","service","directive","$sce","$window","link","$scope","element","attrs","scope","propLoading","propIsSu","propImpersonatedUser","propSwitchBackMethod","propShowSwitchToUserNameField","propSwitchToUserName","propSwitchToUserNamePlaceholder","propSwitchToUserNameButtonLabel","propSwitchBackButtonLabel","propSuUserPassword","propSwitchUserInfoContentPrefix","propMessage","propOnSwitchTo","propOnSwitchBack","template","showImpersonatorDetails","toggleImpersonatorDetails","RcmSwitchUserService","rcmLoading","rcmApiLibService","rcmEventManager","getSuMayBeActive","mayBeActive","sessionStorage","rcmSwitchUser_suMayBeActive","JSON","parse","setSuMayBeActive","data","stringify","suMessage","suData","isSu","impersonatedUser","switchBackMethod","apiPaths","switchUser","switchUserBack","changeSu","buildValidData","onSuChange","trigger","getSu","onSuccess","onError","url","loading","loadingInt","Number","setLoading","success","response","error","switchToUsername","post","status","noLongerUsedVariableOnlyExistsForBCSupport","init","RcmSwitchUserAdminService","rcmSwitchUserService","rcmApiLibMessageService","suUserPassword","message","isLoading","apiInit","handleMessages","messages","getPrimaryMessage","onSwitchToSuccess","location","reload","onSwitchToError","onSwitchBackAndToSuccess","switchTo","onSwitchBackSuccess","onSwitchBackError","switchBack","on","RcmSwitchUserMessageInject","$compile","rcmSwitchUserConfig","getDefault","value","defaultKey","fallback","injectHeader","Boolean","String","content","jQuery","prependTo","contents","aemlement","run","rcmSwitchUserMessageInject","rcmSwitchUserAdminService","propInfoContent","propShow"],"mappings":"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","file":"switch-user.min.js"}